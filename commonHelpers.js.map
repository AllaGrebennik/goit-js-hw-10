{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["'use strict';\n\nimport flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst btnStart = document.querySelector(\"[data-start]\");\nconst inputDate = document.querySelector(\"#datetime-picker\");\nconst timerDays = document.querySelector(\"[data-days]\");\nconst timerHours = document.querySelector(\"[data-hours]\");\nconst timerMinutes = document.querySelector(\"[data-minutes]\");\nconst timerSeconds = document.querySelector(\"[data-seconds]\");\n\nbtnStart.disabled = true;\nlet userSelectedDate=null;\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        userSelectedDate = selectedDates[0].getTime();\n        if (userSelectedDate < Date.now()) {\n            iziToast.error({ position: 'topRight', title: \"Error\", message: \"Please choose a date in the future!\" });\n            btnStart.disabled = true;\n        }\n        else {\n            btnStart.disabled = false;\n        }\n    },\n};\n\nconst selectedDate = flatpickr(\"#datetime-picker\", options);\nbtnStart.addEventListener(\"click\", runTimer);\n\nfunction runTimer() {\n    btnStart.disabled = true;\n    inputDate.disabled = true;\n    const intervalId = setInterval(() => {\n        const intervalMs = userSelectedDate - Date.now();\n        if (intervalMs >= 0)\n        {\n            const { days, hours, minutes, seconds } = convertMs(intervalMs);\n            timerDays.textContent = addLeadingZero(days);\n            timerHours.textContent = addLeadingZero(hours);\n            timerMinutes.textContent = addLeadingZero(minutes);\n            timerSeconds.textContent = addLeadingZero(seconds);\n        }\n        else\n        {\n            clearInterval(intervalId);\n            iziToast.success({ position: 'topRight', title: \"Success\", message: \"Timer Finished!\" });\n            inputDate.disabled = false;\n        }\n    }, 1000);\n};\n\nfunction convertMs(ms) {\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n    \n    const days = Math.floor(ms / day);\n    const hours = Math.floor((ms % day) / hour);\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n    return { days, hours, minutes, seconds };\n}\n\nfunction addLeadingZero(value) {\n    return value < 10 ? `${value}`.padStart(2, '0') : value;\n}\n\n"],"names":["btnStart","inputDate","timerDays","timerHours","timerMinutes","timerSeconds","userSelectedDate","options","selectedDates","iziToast","flatpickr","runTimer","intervalId","intervalMs","days","hours","minutes","seconds","convertMs","addLeadingZero","ms","value"],"mappings":"sGAQA,MAAMA,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAe,SAAS,cAAc,gBAAgB,EAE5DL,EAAS,SAAW,GACpB,IAAIM,EAAiB,KAErB,MAAMC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnBF,EAAmBE,EAAc,GAAG,QAAO,EACvCF,EAAmB,KAAK,OACxBG,EAAS,MAAM,CAAE,SAAU,WAAY,MAAO,QAAS,QAAS,qCAAqC,CAAE,EACvGT,EAAS,SAAW,IAGpBA,EAAS,SAAW,EAE3B,CACL,EAEqBU,EAAU,mBAAoBH,CAAO,EAC1DP,EAAS,iBAAiB,QAASW,CAAQ,EAE3C,SAASA,GAAW,CAChBX,EAAS,SAAW,GACpBC,EAAU,SAAW,GACrB,MAAMW,EAAa,YAAY,IAAM,CACjC,MAAMC,EAAaP,EAAmB,KAAK,IAAG,EAC9C,GAAIO,GAAc,EAClB,CACI,KAAM,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUL,CAAU,EAC9DX,EAAU,YAAciB,EAAeL,CAAI,EAC3CX,EAAW,YAAcgB,EAAeJ,CAAK,EAC7CX,EAAa,YAAce,EAAeH,CAAO,EACjDX,EAAa,YAAcc,EAAeF,CAAO,CACpD,MAGG,cAAcL,CAAU,EACxBH,EAAS,QAAQ,CAAE,SAAU,WAAY,MAAO,UAAW,QAAS,iBAAiB,CAAE,EACvFR,EAAU,SAAW,EAE5B,EAAE,GAAI,CACX,CAEA,SAASiB,EAAUE,EAAI,CAMnB,MAAMN,EAAO,KAAK,MAAMM,EAAK,KAAG,EAC1BL,EAAQ,KAAK,MAAOK,EAAK,MAAO,IAAI,EACpCJ,EAAU,KAAK,MAAQI,EAAK,MAAO,KAAQ,GAAM,EACjDH,EAAU,KAAK,MAASG,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAN,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC1C,CAEA,SAASE,EAAeE,EAAO,CAC3B,OAAOA,EAAQ,GAAK,GAAGA,IAAQ,SAAS,EAAG,GAAG,EAAIA,CACtD"}